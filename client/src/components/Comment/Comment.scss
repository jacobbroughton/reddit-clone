$lmText: #1a202c;
$lmLightText: #718096;
$lmSecondaryText: #73777c;
$lmPrimaryBackground: #cbd5df;
$lmSecondaryBackground: #f8fafc;
$lmBorderInitial: #cbd5e0;
$lmBorderHover: #a0a9b3;

$dmText: rgba(255, 255, 255, 0.87);
$dmSecondaryText: #aab3be;
$dmPrimaryBackground: #1b1f2b;
$dmSecondaryBackground: #2e3748;
$dmHover: #ffffff29;
$dmBorderInitial: #61676d;
$dmBorderHover: #b3bdc9;

.comment-thread {
  display: flex;
  flex-direction: column;
  width: 100%;

  .comment {
    background-color: $lmSecondaryBackground;
    color: $lmText;
    padding: 30px;
    border-radius: 5px;
    position: relative;
    display: flex;
    flex-direction: row;
    width: calc(100% - 60px);

    .comment-main-section {
      width: calc(100% - 70px);
      .comment-metadata {
        margin: 0;
        color: $lmLightText;
        .user {
          color: $lmText;
          font-weight: 600;
          margin-right: 10px;
        }
      }

      .reply-button {
        color: $lmLightText;
        border: none;
        font-size: 0.95rem;
        font-weight: 600;
        padding: 8px 7px;
        border-radius: 5px;
        background-color: transparent;
        transition: background-color 0.1s ease;
        cursor: pointer;
        display: flex;
        flex-direction: row;
        margin-top: 15px;

        .comment-icon {
          width: 18px;
          margin-right: 8px;
        }

        &:hover {
          background-color: $dmHover;
        }
      }

      .comment-body {
        margin-top: 15px;
        .edit-comment-form {
          textarea {
            width: 100%;
            height: 100px;
            font-family: inherit;
            font-size: 0.9rem;
            resize: vertical;
            border: 1px solid $lmBorderInitial;
            border-radius: 5px;
            padding: 10px;
            transition: border-color 0.15s ease;
            background-color: transparent;

            &:hover {
              border: 1px solid $lmBorderHover;
            }
          }
          .save-and-cancel {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            // padding: 10px;
            align-self: flex-start;
          }
          button {
            border: none;
            font-size: 0.95rem;
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.1s ease;
            cursor: pointer;

            &:hover {
              background-color: $lmPrimaryBackground;
            }
          }
        }

        .comment-body-text {
          white-space: pre-wrap;
        }
      }
    }

    .commented-user-accessable-options {
      position: absolute;
      display: flex;
      flex-direction: row;
      gap: 10px;
      // width: 100px;
      right: 30px;
      top: 30px;
      button {
        padding: 0;
        width: 30px;
        padding: 5px;
        border: none;
        border-radius: 5px;
        transition: background-color 0.1s ease;
        background-color: transparent;
        cursor: pointer;
        .edit-icon,
        .delete-icon {
          max-width: 20px;
          stroke: $lmText;
        }

        &:hover {
          background-color: $lmPrimaryBackground;
        }
      }
    }
  }

  .nested-comment {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;

    .bar-and-comment {
      display: flex;

      .bar-parent {
        min-height: calc(100% - 15px);
        width: auto;
        padding-right: 30px;
        .bar {
          cursor: pointer;
          min-height: 100%;
          max-height: calc(100% - 15px);
          background-color: #fff;
          border-right: 2px #fff solid;
          border-left: 2px #fff solid;

          &:hover {
            background-color: orange;
            border-right: 2px orange solid;
            border-left: 2px orange solid;
          }
        }
      }

      .comment {
        width: 100%;
      }
    }

    .replies-toggle {
      margin: 0;
      font-weight: 500;
      margin-top: 15px;
      padding-bottom: 10px;
      cursor: pointer;

      &:hover {
        text-decoration: underline;
      }
    }
  }

  &.dark {
    .comment {
      background-color: $dmSecondaryBackground;
      color: $dmText;

      .comment-main-section {
        .comment-metadata {
          color: $dmSecondaryText;
          .user {
            color: $dmText;
          }
        }

        .comment-body {
          .edit-comment-form {
            textarea {
              color: $dmText;
              border: 1px solid $dmBorderInitial;

              &:hover {
                border: 1px solid $dmBorderHover;
              }
            }
            .save-and-cancel {
              button {
                &:hover {
                  color: $dmText;
                  background-color: $dmSecondaryBackground;
                }
              }
            }
          }

          .comment-body-text {
            color: $dmText;
          }
        }
      }
      .commented-user-accessable-options {
        button {
          transition: background-color 0.1s ease;
          cursor: pointer;
          background-color: inherit;
          .edit-icon,
          .delete-icon {
            fill: $dmText;
            stroke: $dmText;
          }

          &:hover {
            background-color: $dmHover;
          }
        }
      }
    }

    .nested-comment {

  
      .bar-and-comment {
  
        .bar-parent {
          .bar {
            background-color: $dmSecondaryText;
            border-right: 2px $dmSecondaryText solid;
            border-left: 2px $dmSecondaryText solid;
  
            &:hover {
              background-color: orange;
              border-right: 2px orange solid;
              border-left: 2px orange solid;
            }
          }
        }
  
        .comment {

        }
      }
  
      .replies-toggle {
        color: $dmText;
        &:hover {
          text-decoration: underline;
        }
      }
    }
  }
}
